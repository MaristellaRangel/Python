# Só por curiosidade, mas é desnecessário porque o código fica muito difícil de ler

import todo_list_functions as td
import todo_json_functions as tdj
import sys

lists = tdj.get_lists()
todo = lists[0]
undo = lists[1]

commands = {
    'LIST' : lambda : [lambda : td.list(todo)],
    'UNDO' : lambda : [ lambda : td.undo(todo, undo),lambda : tdj.set_lists(undo, todo), lambda : td.list(todo)],
    'REDO':  lambda: [lambda : td.redo(todo, undo), lambda : tdj.set_lists(undo, todo), lambda : td.list(todo)],
    'EXIT' : lambda: sys.exit(),
    'ADD' : lambda: [lambda: td.add_task(inp, todo), lambda : tdj.set_lists(undo, todo), lambda : td.list(todo)]

}

while True:
    print("Commands: list, undo, redo, exit")
    inp = input("Enter a task or command: ").upper()
    command = commands.get(inp) if commands.get(inp) is not None else commands["ADD"]
    if len(command()) == 3:
        command()[0]()
        command()[1]()
        command()[2]()
    else:
        command()[0]()
